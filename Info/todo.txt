1. Выводить каждый шаг отдельно (по картонке)
2. использовать конфигурацию,а не хардкодить
3. regex заюзать
4. нормальные обозначения для переменных
5. не хеппи пас сделать правильно
6. взять новый лог
7. применить if else/switch оптимизировать код